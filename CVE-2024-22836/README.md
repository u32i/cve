## CVE-2024-22836

[Akaunting](https://akaunting.com/) is an online open source accounting software for small businesses and freelancers, built with Laravel.

While i was testing different components i came across a component which handles the app installation/uninstallation process. This component executes a system command to install an application of your choice and adds
it to your company, and it takes three arguments: `alias`, `comapny_id`, and `locale`.

`locale` was being filterd correctly in the update endpoint, however, i've found that another component was allowed to update a company information,
and `locale` parameter was not being correctly filterd in it, allowing malicious users to place any value.

Installing an application using the malformed locale will cause Akauting to execute the commnd injected into `locale`. The installation request returns only json formatted success/failure messages,
so an OOB techniques must be used, or you could just spawn a shell.

## Timeline

| Date | Event |
|------|-------|
| 04/09/2023 | Vendor was notified about the vulnerability |
| 06/11/2023 | Patched version released ([v3.1.4](https://github.com/akaunting/akaunting/releases/tag/3.1.4)) |
| 08/01/2024 | CVE requested |
